
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Прикол</title>
    <style>
        body {
            margin: 0;
            background-color: black;
            overflow: hidden;
        }
        #image {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            display: none;
            width: 300px;
        }
    </style>
</head>
<body>
    <img id="image" src="2002.png">
    <audio id="virus" src="Virus.mp3"></audio>
    <audio id="r1" src="r1.mp3"></audio>

    <script>
        const image = document.getElementById("image");
        const virus = document.getElementById("virus");
        const r1 = document.getElementById("r1");

        const wait = ms => new Promise(resolve => setTimeout(resolve, ms));

        async function start() {
            await wait(4000);
            image.style.display = "block";
            await wait(4000);
            virus.play();

            await wait(1000);

            // Анимация рта (быстрое чередование 2002 и 2003 в течение 7 сек)
            let count = 0;
            const frames = ["2002.png", "2003.png"];
            const swap = setInterval(() => {
                image.src = frames[count % 2];
                count++;
                if (count >= 14) {
                    clearInterval(swap);
                    image.src = "2002.png";
                    animateSpin();
                    r1.play();
                }
            }, 500); // меняется каждые 0.5 секунды, всего 7 секунд (14 смен)
        }

        function animateSpin() {
            let angle = 0;
            const colors = ["red", "blue", "green", "purple", "orange", "cyan", "yellow"];
            let colorIndex = 0;

            const spin = setInterval(() => {
                angle += 5;
                document.body.style.backgroundColor = colors[colorIndex % colors.length];
                colorIndex++;
                image.style.transform = `translate(-50%, -50%) rotate(${angle}deg)`;
            }, 100);

            r1.onended = () => {
                clearInterval(spin);
            };
        }

        window.onload = start;
    </script>
</body>
</html>
